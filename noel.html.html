<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Thi·ªáp Noel B·∫•t Ng·ªù</title>
<style>
    body {
        margin: 0;
        /* N·ªÅn Gradient b·∫ßu tr·ªùi ƒë√™m */
        background: radial-gradient(circle at center, #1a0a33 0%, #00000a 100%); 
        overflow: hidden;
        color: white;
        text-align: center;
        font-family: 'Arial', sans-serif;
    }

    /* --- C√ÇY TH√îNG CH√çNH GI·ªÆA --- */
    .tree {
        position: absolute;
        left: 50%;
        top: 60%;
        transform: translate(-50%, -50%);
        width: 200px; /* K√≠ch th∆∞·ªõc c√¢y th√¥ng */
        filter: drop-shadow(0 0 15px #19ff00)
                drop-shadow(0 0 25px #0aff0a);
        animation: glow 2s infinite alternate;
        z-index: 1; /* ƒê·ªÉ c√¢y n·∫±m d∆∞·ªõi qu√† r∆°i */
    }

    @keyframes glow {
        0% { filter: drop-shadow(0 0 10px #19ff00); }
        100% { filter: drop-shadow(0 0 20px #19ff00); }
    }

    /* --- V·∫¨T TH·ªÇ R∆†I --- */
    .fall-item {
        position: absolute;
        top: -50px;
        font-size: 35px;
        cursor: pointer;
        z-index: 10; /* N·∫±m tr√™n c√¢y th√¥ng */
        animation: fall linear forwards;
        user-select: none;
    }

    @keyframes fall {
        0% { transform: translateY(0) rotate(0deg); opacity: 1; }
        100% { transform: translateY(110vh) rotate(360deg); opacity: 0.8; }
    }

    /* Hi·ªáu ·ª©ng n·ªï khi click v·∫≠t trang tr√≠ th∆∞·ªùng */
    @keyframes pop {
        0% { transform: scale(1); opacity: 1; }
        100% { transform: scale(2); opacity: 0; }
    }

    /* --- POPUP (HI·ªÜN ·∫¢NH HO·∫∂C TH∆Ø) --- */
    #modal {
        display: none; /* M·∫∑c ƒë·ªãnh ·∫©n */
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.85);
        z-index: 100;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        animation: fadeIn 0.3s;
    }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    #modal-content {
        background: #fff;
        color: #333;
        padding: 20px;
        border-radius: 15px;
        max-width: 90%;
        max-height: 80%;
        text-align: center;
        box-shadow: 0 0 20px gold;
        position: relative;
        overflow-y: auto;
    }

    #modal-img {
        max-width: 100%;
        max-height: 60vh;
        border-radius: 10px;
        display: none;
    }

    #modal-text {
        font-size: 18px;
        line-height: 1.6;
        white-space: pre-wrap;
        display: none;
        padding: 10px;
        text-align: left;
    }
    
    #closeBtn {
        margin-top: 15px;
        padding: 8px 20px;
        background: #d40000;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 16px;
        cursor: pointer;
    }

    /* --- TUY·∫æT R∆†I (Gi·ªØ nguy√™n) --- */
    .snow {
        position: absolute;
        top: -10px;
        width: 6px;
        height: 6px;
        background: white;
        border-radius: 50%;
        opacity: 0.8;
        animation: snowFall linear infinite;
        pointer-events: none;
    }
    @keyframes snowFall { to { transform: translateY(110vh); opacity: 0; } }

    #playBtn {
        position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
        padding: 10px 20px; background: #fff; color: #000;
        border-radius: 10px; font-weight: bold; display: none; z-index: 200;
    }
</style>
</head>
<body>

<button id="playBtn">‚ñ∂ B·∫≠t nh·∫°c</button>
<audio id="bgm" loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/12/01/audio_1bf0229556.mp3" type="audio/mpeg">
</audio>

<img src="https://i.posting.cc/z7238648/i0368-e5ff481171aaacc7226c5184.png" class="tree">

<div id="modal">
    <div id="modal-content">
        <h2 id="modal-title" style="color: #d40000; margin-top: 0;"></h2>
        <img id="modal-img" src="" alt="Gift">
        <div id="modal-text"></div>
        
        <button id="closeBtn">ƒê√≥ng l·∫°i</button>
    </div>
</div>

<script>
// ====================================================
// C·∫§U H√åNH N·ªòI DUNG ·ªû ƒê√ÇY
// ====================================================

// 1. Danh s√°ch link ·∫£nh s·∫Ω hi·ªán ra khi b·∫•m v√†o H·ªòP QU√Ä (üéÅ)
const images = [
    "https://i.postimg.cc/zvRNxJwc/z7286461394854-35a1c3ef4c744e59fe6f7f5b0c2d8d67.jpg",
    "https://i.postimg.cc/hv7n2SbF/z7286461395334-d62ab30a1daabc06344a994e87ecfbee.jpg",
    "https://i.postimg.cc/Y0m7dpN5/z7286461395954-18e4d728adb9f0719dd29cf8add3d9c9.jpg",
    "https://i.postimg.cc/GtsRXcPZ/z7286461397301-47b71b6e86304e54d67a07460408c3f9.jpg",
    "https://i.postimg.cc/sxZzTV9z/z7286461399572-e864ccbf2a54b4fc071cab3dae43c327.jpg",
    "https://i.postimg.cc/t7QjfL2Q/z7286461401245-b0ba4740d261ba8aa1f8384a9ccee947.jpg",
    "https://i.postimg.cc/SjFh5wVw/z7286461402828-6b04ced39b682e76e649b7f5bdab9d42.jpg",
    "https://i.postimg.cc/14hQTLJZ/z7286461402974-f73277fd68ea437e86473845b427e4fb.jpg",
    "https://i.postimg.cc/XXSbhTQW/z7286461405672-146cae4aa3247d79b1a5ff2bdc09c064.jpg",
    "https://i.postimg.cc/NLqcVWpG/z7286461405768-3bec483dcff35413f0b02050408bb34b.jpg",
    "https://i.postimg.cc/c6ySjVX4/z7286461407858-844bb643b4f1a9e721e25ee00c5e6a05.jpg",
    "https://i.postimg.cc/CdTgtWmx/z7286461408236-ed72170f459f8005f4203a0d10f63914.jpg",
    "https://i.postimg.cc/PNsjcB2P/z7286461409776-6884635fd26a5dd0f3a1610a18fcab8c.jpg",
    "https://i.postimg.cc/rzXkbvQr/z7286461410914-9ac975b1ecc300302cc3b82d2a653ca2.jpg",
    "https://i.postimg.cc/YjKHVJbF/z7286461412409-48bab9583f27cef3a53545f27a903690.jpg"
];

// 2. N·ªôi dung th∆∞ s·∫Ω hi·ªán ra khi b·∫•m v√†o CHI·∫æC T·∫§T (üß¶)
const letterContent = `
G·ª≠i ng∆∞·ªùi b·∫°n iu nh·∫•t,

Ch√∫c b·∫°n iu m·ªôt m√πa Gi√°ng sinh th·∫≠t ·∫•m √°p, an l√†nh v√† th·∫≠t nhi·ªÅu ƒëi·ªÅu b·∫•t ng·ªù!
Mong r·∫±ng nƒÉm m·ªõi s·∫Ω mang ƒë·∫øn cho b·∫°n iu th·∫≠t nhi·ªÅu may m·∫Øn v√† h·∫°nh ph√∫c.

H√£y m·ªü nh·ªØng h·ªôp qu√† v√† t·∫≠n h∆∞·ªüng √¢m nh·∫°c nh√©!

Merry Christmas! üéÑ‚ú®

Th√¢n m·∫øn,
[ƒêi·ªÅn t√™n c·ªßa b·∫°n v√†o ƒë√¢y]
`;

// ====================================================
// LOGIC CODE (Kh√¥ng c·∫ßn s·ª≠a d∆∞·ªõi n√†y)
// ====================================================

// --- Nh·∫°c ---
const bgm = document.getElementById("bgm");
const playBtn = document.getElementById("playBtn");
function tryPlay() {
    bgm.play().then(() => playBtn.style.display = "none")
       .catch(() => playBtn.style.display = "block");
}
document.body.addEventListener("click", tryPlay, { once: true });
document.body.addEventListener("touchstart", tryPlay, { once: true });
playBtn.onclick = () => { bgm.play(); playBtn.style.display = "none"; };

// --- X·ª≠ l√Ω Popup ---
const modal = document.getElementById("modal");
const modalImg = document.getElementById("modal-img");
const modalText = document.getElementById("modal-text");
const modalTitle = document.getElementById("modal-title");
const closeBtn = document.getElementById("closeBtn");

function showModal(type) {
    modal.style.display = "flex";
    
    if (type === "gift") {
        // C·∫¨P NH·∫¨T: Hi·ªán ·∫£nh ng·∫´u nhi√™n DUY NH·∫§T
        modalTitle.innerText = "M√≥n qu√† b·∫•t ng·ªù cho b·∫°n iu üéÅ";
        modalImg.style.display = "block";
        modalText.style.display = "none";
        
        // Ch·ªçn ·∫£nh random t·ª´ danh s√°ch
        const randomImg = images[Math.floor(Math.random() * images.length)];
        modalImg.src = randomImg;
        
    } else if (type === "sock") {
        // Hi·ªán th∆∞
        modalTitle.innerText = "Th∆∞ g·ª≠i b·∫°n iu üíå";
        modalImg.style.display = "none";
        modalText.style.display = "block";
        modalText.innerText = letterContent.trim();
    }
}

closeBtn.onclick = () => {
    modal.style.display = "none";
};

// --- T·∫°o v·∫≠t r∆°i ---
const decorItems = ["‚≠ê","üîî","üç¨","üç≠","‚ùÑÔ∏è"]; 
const giftItem = "üéÅ";
const sockItem = "üß¶";

function spawnItem() {
    const el = document.createElement("div");
    el.className = "fall-item";
    
    const rand = Math.random();
    let type = "decor";
    let icon;

    if (rand < 0.15) { // 15% ra h·ªôp qu√†
        icon = giftItem;
        type = "gift";
    } else if (rand < 0.25) { // 10% ra chi·∫øc t·∫•t
        icon = sockItem;
        type = "sock";
    } else { // C√≤n l·∫°i l√† ƒë·ªì trang tr√≠
        icon = decorItems[Math.floor(Math.random() * decorItems.length)];
    }
    
    el.innerText = icon;
    el.style.left = Math.random() * 95 + "vw";
    el.style.animationDuration = (4 + Math.random() * 5) + "s";

    // X·ª≠ l√Ω khi click
    el.onclick = (e) => {
        e.stopPropagation();
        
        if (type === "gift") {
            showModal("gift");
            el.remove();
        } else if (type === "sock") {
            showModal("sock");
            el.remove();
        } else {
            // Hi·ªáu ·ª©ng n·ªï cho ƒë·ªì v·∫≠t th∆∞·ªùng
            el.style.animation = "pop 0.3s forwards";
            setTimeout(() => el.remove(), 300);
        }
    };

    document.body.appendChild(el);
    
    setTimeout(() => {
        if (el.parentNode) el.remove();
    }, 10000);
}

setInterval(spawnItem, 400); // 0.4 gi√¢y r∆°i 1 m√≥n

// --- Tuy·∫øt r∆°i (N·ªÅn) ---
function createSnow() {
    const snow = document.createElement("div");
    snow.className = "snow";
    snow.style.left = Math.random() * 100 + "vw";
    snow.style.animationDuration = (8 + Math.random() * 5) + "s";
    snow.style.opacity = Math.random();
    document.body.appendChild(snow);
    setTimeout(() => snow.remove(), 12000);
}
setInterval(createSnow, 100);

// --- Kh·ªüi t·∫°o C√¢y th√¥ng (ƒê√£ c√≥ ·ªü ph·∫ßn HTML) ---

</script>

</body>
</html>